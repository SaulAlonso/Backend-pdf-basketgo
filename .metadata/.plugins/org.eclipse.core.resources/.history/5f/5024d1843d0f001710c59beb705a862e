package es.urjc.ssii.Practica2;

import java.util.ArrayList;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import es.urjc.ssii.ejemplorestspring.Pelicula;


@Service
public class PeliculaService {
	@Autowired
	private PeliculaRepository repositorio;
	private List<Pelicula> peliculas;

	public PeliculasService() {
		// Creación de la lista de películas.
		peliculas = new ArrayList<Pelicula>();
		// Actores de la primera película.
		// Creación de la película y adición de los actores.
		Pelicula matrix = new Pelicula("Matrix",1999,"http://www.imdb.com/title/tt0133093/");
		ArrayList<Actor> acts = new ArrayList<Actor>();
		acts.add(keanu);
		acts.add(laurence);
		matrix.setActores(acts);
		// Se añade la película a la lista.
		peliculas.add(matrix);
		
		// Se repite el proceso para otra película.
		acts = new ArrayList<Actor>();
		acts.add(marlon);
		acts.add(al);
		Pelicula elpadrino = new Pelicula("El Padrino",1972,"http://www.imdb.com/title/tt0068646/");
		elpadrino.setActores(acts);
		peliculas.add(elpadrino);
	}
	// Getters y setters ...
	public List<Pelicula> getPeliculas() {
		return (List<Pelicula>) repositorio.findAll();
	}

	public Pelicula getPelicula(long id) {
		return repositorio.findOne(id);
	}
}
